@inject NavigationManager NavigationManager


<MudExpansionPanels MultiExpansion="false">
    @foreach (var puzzle in @PuzzleData)
    {
        <MudExpansionPanel DisableGutters="true">
            <TitleContent>
                <Stars StarCount="@puzzle.Stars" /> @puzzle.Title
                
                @if (puzzle.HasHTML5Visualisation)
                {
                    <MudSpacer/>
                    <MudIconButton Icon="@Icons.Material.Filled.Html" Fixed="false" Color="MudBlazor.Color.Tertiary" OnClick="@((e) => Navigate(puzzle))" >Run vis</MudIconButton>
                }
            </TitleContent>
            <ChildContent>

                
            </ChildContent>
        </MudExpansionPanel>
    }
</MudExpansionPanels>

@code {
    [Parameter]
    public int Year { get; set; } = 0;

    [Parameter]
    public IEnumerable<PuzzleDataAttribute> PuzzleData { get; set; } = new List<Puzzles.PuzzleDataAttribute>();

    private void Navigate(PuzzleDataAttribute data)
    {
        NavigationManager.NavigateTo( $"{Settings.WEB_PATH_PREFIX}viz/{data.Year}/{data.Day}", false);
    }
}
